<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>eshaan's website</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <link href='http://aryabhata.aeonic.me/noedit.sigma.css' rel='stylesheet' type='text/css' />
    <style>
      #bgcontainer {
        background: url(https://t3.ftcdn.net/jpg/01/05/54/98/360_F_105549841_qGAF80yXJ0pfwV1RsxMCLXaJ8ae2rlRY.jpg);
      }
      table#appTable tbody tr td img {
        height: 40px;
        width: 40px;
      }
      /*@media (prefers-color-scheme: light) {
        .content-section .desk-paper {
          filter: brightness(0.952381);
        }
        .nav-item i  {
          color: #b6a2cb;
          text-shadow: 19px 1px 2px rgba(#fefefe, 0, 0, 0.5);
        }
        .nav-item {
          color: #c4a6d9;
        }
      }*/
      .desk-paper p {
        line-height: 36pt;
      }
      .desk-paper, p.page-nav, .nav-item, .page-title {
        font-family: geneva, tahoma, 'Segoe UI', segoe, sans-serif;
      }
      i.fa, .nav-item i {
        font-family: sans-serif !important;
      }
      table::not(.nepas)  {
        font-family: 'Segoe UI', segoe, tahoma, sans-serif;
      }
      table::not(.nepas) thead td {
        font-variant-caps: small-caps;
      }
      i.fa {font-family: monospace !important;}
    </style>
  </head>
  <body
    onload="document.querySelector('#homeTab').click(); pascal.addDimension();"
  >
    <div id="bgcontainer"></div>

    <svg style="position: absolute; width: 0; height: 0;" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <filter id="crystal-distortion">
            <feTurbulence baseFrequency="0.008" numOctaves="2" result="turbulence"/>
            <feDisplacementMap in="SourceGraphic" in2="turbulence" scale="9"/>
        </filter>
        <filter id="crystal-distortion-hover">
            <feTurbulence baseFrequency="0.008" numOctaves="2" result="turbulence"/>
            <feDisplacementMap in="SourceGraphic" in2="turbulence" scale="16"/>
            <feColorMatrix type="saturate" values="1.025"/>
            <feColorMatrix type="hueRotate" values="12"/>
        </filter>
        <filter id="crystal-distortion-hover-button">
            <feTurbulence baseFrequency="0.008" numOctaves="2" result="turbulence"/>
            <feDisplacementMap in="SourceGraphic" in2="turbulence" scale="24"/>
            <feColorMatrix type="saturate" values="1.05"/>
            <feColorMatrix type="hueRotate" values="12"/>
        </filter>
        <filter id="crystal-distortion-plus">
            <feTurbulence baseFrequency="0.008" numOctaves="2" result="turbulence"/>
            <feDisplacementMap in="SourceGraphic" in2="turbulence" scale="72"/>
            <feColorMatrix type="saturate" values="1.05"/>
        </filter>
        <filter id="crystal-distortion-minus">
            <feTurbulence baseFrequency="0.008" numOctaves="2" result="turbulence"/>
            <feDisplacementMap in="SourceGraphic" in2="turbulence" scale="24"/>
            <feColorMatrix type="saturate" values="1.05"/>
        </filter>
      </defs>
    </svg>

    <div class="container cs-blue">
      <!-- Bio Section -->
      <div id="bio" class="content-section active">
        <h1 class="page-title">about me</h1>
        <p class='page-nav'><b>• <a href='#bio'>bio</a> • <a href='#research'>research</a> • <a href='#youtube'>YouTube</a> •</b></p>
        <div class="desk-paper" style='line-height: 36pt;'>
          <strong style='text-align: center;'>Hello humans of planet Earth!</strong>
          <hr id='bio'/>
          <p class='page-nav' style='font-family: inherit;'>• <a href='https://github.com/ebp012/'><i class='fa fa-github-square'></i></a> • <a href='https://www.instagram.com/echo.fractal/'><i class='fa fa-instagram'></i></a> • <a href='https://youtube.com/@random.guy2840/'><i class='fa fa-youtube'></i></a> •</p>
          <p>I'm an aspiring front-end developer fluent in HTML+XML, CSS and JS, plus a fair bit of C++ and Bash. Currently I'm learning Ruby and Java. (I was 8½ when I wrote my first website.)</p>
          <p>I speak English and Gujarati natively, and can speak French to a B1 level and Spanish to an A2 level. I have minor experience with Hindi, Sanskrit, and Latin.</p>
          <p>I'm also a conlanger (created of over a dozen and four I particularly like) and would consider myself an amateur linguist.</p>
          <p>I've created dozens of conlangs, four of which I've showcased here, and am developing five major web applications as well.</p>
          <p>Besides conlanging and coding, I also enjoy writing in my free time, and a novel is in the works at the moment.</p>
          <hr id='research'/>
          <h2>Research Experience</h2>
          <p>During my 2023–2024 school year, my team of 3 other people alongside myself was given an <a href='https://www.exploravision.org/exploravision-2024-honorable-mentions/'>honourable mention</a> from NSTA Exploravision for the conceptualisation of NanoGrain, a nanobot-containing pill to enable patients of cœliac disease to consume gluten safely.</p>
          <hr id='youtube'/>
          <h2>YouTube</h2>
          <p>I have a YouTube channel, <a href='https://www.youtube.com/@random.guy2840'>echo fractal</a>, that I sometimes post to.</p>
          <p><strong>Most recent video:</strong></p>
          <div class='table-wrapper'>
            <iframe id="youtube_video" width="450" height="262.5" frameborder="0" allowfullscreen="allowfullscreen" class='youtube'></iframe>
          </div>
          <br/>
          <hr/>
          <p style='text-align: center;'>
            <img src='https://www.w3.org/Icons/valid-xml10-blue.png' alt='xml validated' />
            <img src='http://jigsaw.w3.org/css-validator/images/vcss-blue' alt='css validated' />
            <img src='https://hellnet.work/8831/img/buttons/Area51_Cavern_4556_thinkdifferent.gif' alt='made with macintosh' />
            <img src='https://hellnet.work/8831/img/buttons/Area51_Corridor_3621_anybrow.gif' alt='best viewed with any browser' />
          </p>
        </div>
      </div>

      <!-- Projects Section -->
      <div id="projects" class="content-section">
        <h1 class="page-title">Projects</h1>
        <div class="desk-paper" style="font-size: 14pt;">
          <p style="text-align: centre">
            These are some personal coding projects of mine.
          </p>
          <hr/>
          <div class='table-wrapper'>
            <table id="appTable">
              <thead>
                <tr>
                  <td>App</td>
                  <td>Icon</td>
                  <td>Description</td>
                  <td>Function</td>
                  <td>Development</td>
                  <td>Repository</td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><a href="http://aryabhata.aeonic.me/">Aryabhata</a></td>
                  <td>-</td>
                  <td>a multipurpose study app</td>
                  <td>mostly</td>
                  <td>ongoing</td>
                  <td><a href='https://github.com/ebp012/aryabhata'><i class='fa fa-github-square'></i></a></td>
                </tr>
                <tr>
                  <td><a href="http://aspen.aeonic.me/">Aspen</a></td>
                  <td>-</td>
                  <td>a new programming language</td>
                  <td>partly</td>
                  <td>paused</td>
                  <td><a href='https://github.com/ebp012/aspen'><i class='fa fa-github-square'></i></a></td>
                </tr>
                <tr>
                  <td><a href="http://labsim.aeonic.me/">LabSim</a></td>
                  <td>
                    <img
                      src="https://raw.githubusercontent.com/ebp012/labsim/refs/heads/main/images/logo.png"
                    />
                  </td>
                  <td>falling-sand laboratory simulator<br/><a href='https://sandboxels.r74n.com/'>Sandboxels fork</a></td>
                  <td>fully</td>
                  <td>halted</td>
                  <td><a href='https://github.com/ebp012/labsim'><i class='fa fa-github-square'></i></a></td>
                </tr>
                <tr>
                  <td><a href="http://mahler.aeonic.me/">Mahler</a></td>
                  <td>-</td>
                  <td>classical music streaming hub</td>
                  <td>broken</td>
                  <td>paused</td>
                  <td><a href='https://github.com/ebp012/mahler'><i class='fa fa-github-square'></i></a></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Linguistics Section -->
      <div id="linguistics" class="content-section">
        <h1 class="page-title">Linguistics</h1>
        <div class="desk-paper">
          <p style="text-align: centre">
            Below are some conlangs which I've created.
          </p>
          <hr />
          <div class='table-wrapper'>
            <table id="langTable">
              <thead>
                <tr>
                  <td>Language</td>
                  <td>Family</td>
                  <td>Description</td>
                  <td>Sentence/Translation/Gloss</td>
                  <td>Creation Time</td>
                  <td style="width: 18pt">Word Order</td>
                  <td style="width: 32pt">Cases</td>
                  <td style="width: 27pt">Genders</td>
                  <td style="width: 32pt">Declension</td>
                  <td style="width: 32pt">Conjugation</td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <a href="https://www.youtube.com/watch?v=U76DK3woxJE"
                      >su Pama</a
                    >
                  </td>
                  <td><i>a priori</i></td>
                  <td>a full grammar in 32 morphemes</td>
                  <td>
                    <p>mi mai pu a pu ki ti si pu ki ti pa ku.</p>
                    <p>I can eat your food since it's good.</p>
                    <p>I can eat ACC food of you because food of you is good</p>
                  </td>
                  <td>May–June 2024</td>
                  <td>SVO</td>
                  <td><i>none</i></td>
                  <td><i>none</i></td>
                  <td><i>none</i></td>
                  <td><i>none</i></td>
                </tr>
                <tr>
                  <td>
                    <a
                      href="https://docs.google.com/spreadsheets/d/1daAIM9-h6RK40sLYFNCp2SVQTxQOI5S_rzYwxquZLwA/edit?gid=159357971#gid=159357971"
                      >Shaus</a
                    >
                  </td>
                  <td><i>a priori</i></td>
                  <td>scrapped worldbuild</td>
                  <td>
                    <p>
                      Mí, pyil̥øif thel̥ jøtt ɟilo, jøtt l̥esvyrøl̥th mí l̥esvyrai.
                    </p>
                    <p>
                      Initially, I saw myself as a victim, but I have since
                      realised that my initial mentality was wrong.
                    </p>
                    <p>
                      First-ORD, sensed-ACTV-PAST-1S-VISUAL myself-REFL victim, but
                      think-PASV-PAST-1S-EXPNTL (wrong)
                    </p>
                  </td>
                  <td>August-December 2024</td>
                  <td>VSO</td>
                  <td>nominative, vocative, genitive, locative, reflexive</td>
                  <td>masculine, feminine, puelline, neuter</td>
                  <td>case, number</td>
                  <td>
                    <abbr title="indicative, interrogative, subjunctive"
                      >mood</abbr
                    >, aspect,
                    <abbr title="active, passive, antipassive">voice</abbr>,
                    <abbr title="firsthand, secondhand, thirdhand">hand</abbr>,
                    evidentiality
                  </td>
                </tr>
                <tr>
                  <td>
                    <a
                      href="https://docs.google.com/spreadsheets/d/1oE2xh_QqAJ_qFbs8pi7jcmVZV-8FV04fgX5_MIW_6ns/edit?gid=1323055028#gid=1323055028"
                      >Liyansa</a
                    >
                  </td>
                  <td><i>a priori</i></td>
                  <td>novelling</td>
                  <td>
                    <p>Ta lalta, nanaswa'ln falni pantin shu palsi pismaltin.</p>
                    <p>
                      First thing, I'd like some pismaltis (fruits) for my
                      daughter to eat.
                    </p>
                    <p>
                      thing 1-ORD, pick-I'my for daughter-acc eat-her some pismalti.
                    </p>
                  </td>
                  <td>November 2024–present</td>
                  <td>VSO</td>
                  <td>
                    ergative, intransitive, accusative, alienable, inalienable
                  </td>
                  <td>masculine, feminine</td>
                  <td>
                    gender, case,
                    <abbr title="singular, paucal, plural">number</abbr>
                  </td>
                  <td>
                    <abbr title="inchoative, progressive, perfective">aspect</abbr
                    >, <abbr title="indicative, interrogative">mood</abbr>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a
                      href="https://docs.google.com/spreadsheets/d/1h6DqxRIs8j-qzSLGJ-3K8Od-Y-ubyXuUffpwPp2znN8/edit?pli=1&gid=1323055028#gid=1323055028"
                      >Lělue</a
                    >
                  </td>
                  <td>Romance</td>
                  <td>althistory</td>
                  <td></td>
                  <td>June 2025–present</td>
                  <td>SVO</td>
                  <td>nominative, accusative, genitive, locative/dative, ablative, reflexive</td>
                  <td>masculine, feminine</td>
                  <td>
                    case, <abbr title="singular, plural">number</abbr>, gender
                  </td>
                  <td>
                    <abbr title="past, present, future, general remote">tense</abbr>,
                    <abbr title="imperfective, perfective (no distinction in present or general remote tenses)">aspect</abbr>,
                    <abbr title="indicative, imperative, subjunctive, optative"
                      >mood</abbr
                    >
                  </td>
                </tr>
                <tr>
                  <td>
                    <a
                      href="https://docs.google.com/spreadsheets/d/1Hzy4BwXER7I61nvWyO2x_sC4FukjdZQMTJDHj2ljAQY/edit?gid=1323055028#gid=1323055028"
                      >Sapca</a
                    >
                  </td>
                  <td><i>a priori</i></td>
                  <td>international auxilliary</td>
                  <td>
                    <p>Mi mateto kai fero di: seko siňi, nu suňi.</p>
                    <p>I know who did it: it was her, not him.</p>
                    <p>I know-PERF who did-PAST-IMPERF it: (it) was-PERF her-FEM, NEG him-MASC</p>
                  </td>
                  <td>July 2024–present</td>
                  <td>VSO</td>
                  <td>
                    nominative, accusative (optional), genitive
                  </td>
                  <td>masculine, feminine (both optional)</td>
                  <td>gender, number, case</td>
                  <td>
                    <abbr title='past, present, future'>tense</abbr>,
                    <abbr title="imperfective, perfective">aspect</abbr
                    >, <abbr title="indicative, imperative, subjunctive">mood</abbr>,
                    <abbr title='active, passive (reflexive=active)'>voice</abbr>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Music Section -->
      <div id="music" class="content-section active">
        <h1 class="page-title">Compositions</h1>
        <div class="desk-paper">
          <div class='table-wrapper'>
            <table id="musicTable">
              <thead>
                <tr>
                  <td>Composition</td>
                  <td><abbr title='opus'>Op.</abbr></td>
                  <td>Published</td>
                  <td>Description</td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <i><a href='https://www.youtube.com/watch?v=-xtmsFfXAhM'>Baroque Chamber Music in D♭ Major</a></i>
                  </td>
                  <td>Op. 0</td>
                  <td>4 Aug 2024</td>
                  <td>A short neo-baroque piece for a chamber ensemble.</td>
                </tr>
                <tr>
                  <td>
                    <i><a href='https://www.youtube.com/watch?v=2CETV8x6B48'>Twelve Variations on "London Bridge"</a></i>
                  </td>
                  <td>Op. 1</td>
                  <td>20 Aug 2024</td>
                  <td></td>
                </tr>
                <tr>
                  <td>
                    <i><a href='https://www.youtube.com/watch?v=-g7Kdv9qkV0&t=2s'>Theme and Variations for Orchestra in D♭ major</a></i>
                  </td>
                  <td>Op. 2</td>
                  <td>5 Jan 2025</td>
                  <td>The months-ago scrapped slow movement from my upcoming Symphony No. 1 back from Sept 2024.</td>
                </tr>
                <tr>
                  <td>
                    <i><a href='https://www.youtube.com/watch?v=Q4_W9zga9nY'>Air No. 1 de la Flûte, un peu sinistre</a></i>
                  </td>
                  <td>Op. 3</td>
                  <td>23 Apr 2025</td>
                  <td>flute solo piece (pretty bad)</td>
                </tr>
                <tr>
                  <td>
                    <i><a href='https://www.youtube.com/watch?v=Q4_W9zga9nY'>Le Fantôme à l'Aurore, en fa mineur</a></i>
                  </td>
                  <td>Op. 4</td>
                  <td>06 Jul 2025</td>
                  <td>flute solo piece</td>
                </tr>
                <tr>
                  <td>
                    <i><a href='https://www.youtube.com/watch?v=notpostedyet'>Orchestration of an Aarti</a></i>
                  </td>
                  <td>Op. 5</td>
                  <td><i>upcoming</i></td>
                  <td></td>
                </tr>
                <tr>
                  <td>
                    <i><a href='https://www.youtube.com/watch?v=notpostedyet'>Symphony No. 1 in C♯ minor</a></i>
                  </td>
                  <td><i>uncertain</i></td>
                  <td><i>upcoming</i></td>
                  <td></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      
    </div>
    <nav class="nav-bar desat">
      <div class="nav-item" data-target="#bio" id="homeTab">
        <i class="fa fa-book"></i>
        Bio
      </div>
      <div class="nav-item" data-target="#projects">
        <i class="fa fa-desktop"></i>
        Projects
      </div>
      <div class="nav-item" data-target="#linguistics">
        <i class="fa fa-language"></i>
        Linguistics
      </div>
      <div class="nav-item" data-target="#music">
        <i class="fa fa-music"></i>
        Music
      </div>
      <div class="nav-item" data-target="#reform" onclick='window.open("http://blog.aeonic.me/", "_self");'>
        <i class="fa fa-rss-square"></i>
        Blog
      </div>
      <span class='projlinks'>
        <a href='http://aryabhata.aeonic.me/'>
          <img src='https://raw.githubusercontent.com/ebp012/aryabhata/refs/heads/main/assets/Aryabhata-app-icon.png' alt='Aryabhata' />
        </a>
      </span>
    </nav>
    
    <script>
      // Navbar functionality
      document.addEventListener('DOMContentLoaded', function() {
        // Select home tab
        const navItems = document.querySelectorAll('.nav-item');
        const contentSections = document.querySelectorAll('.content-section');
        
        // Function to handle nav item clicks
        function handleNavClick(event) {
          const targetId = this.getAttribute('data-target');
          
          // Hide all content sections
          contentSections.forEach(section => {
            section.classList.remove('active');
          });
          
          // Show the targeted section
          document.querySelector(targetId).classList.add('active');
          
          // Reset all nav items
          navItems.forEach(item => {
            item.style.transform = 'translateY(0)';
            item.style.background = 'transparent';
          });
          
          // Style the clicked nav item
          this.style.background = 'rgba(155,130,155,0.3)';
          this.style.transform = 'translateY(-5px)';
        }
        
        // Add click event to each nav item
        navItems.forEach(item => {
          item.addEventListener('click', handleNavClick);
        });
        document.querySelector('.nav-item').click();
      });
      
      // Settings Manager
      const SettingsManager = {
        init() {
          this.loadSettings();
          this.bindEvents();
          this.toggleCalculatorIcon(
            localStorage.getItem("showCalculator") === "true"
          );
          this.togglePerformanceMode(
            localStorage.getItem("performanceMode") === "true"
          );
        },

        bindEvents() {
          $("#cookie-consent").change(function () {
            localStorage.setItem("cookieConsent", this.checked);
            if (this.checked)
              document.cookie = "cookieConsent=true; max-age=2592000";
          });

          $("#calculator-toggle").change(function () {
            localStorage.setItem("showCalculator", this.checked);
            SettingsManager.toggleCalculatorIcon(this.checked);
          });

          $("#performance-mode").change(function () {
            localStorage.setItem("performanceMode", this.checked);
            SettingsManager.togglePerformanceMode(this.checked);
          });
        },

        loadSettings() {
          const consent = document.cookie.includes("cookieConsent=true");
          $("#cookie-consent").prop("checked", consent);

          $("#calculator-toggle").prop(
            "checked",
            localStorage.getItem("showCalculator") === "true"
          );

          $("#performance-mode").prop(
            "checked",
            localStorage.getItem("performanceMode") === "true"
          );
        },

        toggleCalculatorIcon(show) {
          $('[data-target="#calculator"]').toggle(show);
        },

        togglePerformanceMode(enable) {
          $("body").toggleClass("flattened", enable);
          $("#desmos-calculator").css("opacity", enable ? 0.9 : 1);
        },
      };

      $(document).ready(function () {
        SettingsManager.init();

        var channelID = "UCEvttHNVOsafen6uySQbDkQ";
        var reqURL = "https://www.youtube.com/feeds/videos.xml?channel_id=";
        $.getJSON("https://api.rss2json.com/v1/api.json?rss_url=" + encodeURIComponent(reqURL)+channelID, function(data) {
           var link = data.items[0].link;
           var id = link.substr(link.indexOf("=")+1);
        $("#youtube_video").attr("src","https://youtube.com/embed/"+id + "?controls=0&showinfo=0&rel=0");
        });
      });

      // Script for learn tab
      let questions = [];
      let currentQuestionIndex = 0;
      let oldCqi;
      let olderCqi;
      let specCqi;
      let silver = 0;
      let halvePenalty = false;
      // Language-specific strings
      var noFileMessage = "No file selected!!!";
      var langSilver = "silver";
      // Total right and total questions
      let totalQuestions = 0;
      let totalRight = 0;

      // Parse the .arya file with the new format
      function parseArya(arya) {
        const rows = arya.split("\n");
        questions = []; // Clear existing questions
        rows.forEach((row) => {
          const values = row.split(",");
          if (values.length === 7) {
            try {
              const answers = [
                values[1].trim(), // Incorrect answer 1
                values[2].trim(), // Incorrect answer 2
                values[3].trim(), // Incorrect answer 3
                values[4].trim(), // Correct answer
              ];
              questions.push({
                question: values[0].trim(),
                correct: values[4].trim(),
                choices: answers,
                pointsAwarded: parseInt(values[5]),
                pointsDeducted: parseInt(values[6]),
              });
            } catch (error) {
              console.error("Error parsing row:", row, error);
            }
          }
        });
        if (questions.length === 0) {
          alert(
            "No valid questions found in the file. Please check the format."
          );
        }
      }

      // Shuffle answers randomly
      function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
      }

      function loadQuestion() {
        if (currentQuestionIndex >= questions.length) {
          currentQuestionIndex == 1;
          /*alert("Game Over! Your total: " + silver + " " + langSilver);
          $("#game").hide();
          $(".container").show();
          currentQuestionIndex = 0;
          silver = 0;
          $("#scoreValue").text(silver + " " + langSilver);*/
          return;
        }

        const current = questions[currentQuestionIndex];
        $("#question").text(current.question);

        // Randomize the order of answers
        const randomizedChoices = [...current.choices];
        shuffle(randomizedChoices);

        // Create answer buttons
        const answerButtons = randomizedChoices
          .map((choice, index) => {
            return `<button class="button answer">${String.fromCharCode(
              65 + index
            )}: ${choice}</button>`;
          })
          .join("");
        $("#answers").html(answerButtons);

        // Handle answer selection
        $(".answer").on("click", function () {
          const selectedAnswer = $(this).text().split(":")[1].trim();
          if (selectedAnswer === current.correct) {
            // Add the appropriate amount of silver
            silver += current.pointsAwarded;
            // Increment the number of questions gotten right
            totalRight += 1;
            // Leave a gap of at least 2 between the same exact question
            olderCqi = oldCqi;
            oldCqi = currentQuestionIndex;
            do {
              specCqi = Math.round(Math.random() * questions.length);
            } while (specCqi == oldCqi || specCqi == olderCqi);
            currentQuestionIndex = specCqi;
          } else {
            // Show the incorrect dialogue box
            $("#incorrect").show();
            $("#game").hide();
            // Hide the incorrect dialogue box after ~2/3 of a second
            setTimeout(function () {
              $("#incorrect").hide();
              $("#game").show();
            }, 666.6);
            // If the halve-penalty powerup is equipped from the shop, half the penalty from the silver amount
            silver -= halvePenalty
              ? Math.ceil(current.pointsDeducted / 2)
              : current.pointsDeducted;
            // Repeat the question if it was incorrectly answered
            currentQuestionIndex = currentQuestionIndex;
          }
          // Increment the total numbers of questions answered
          totalQuestions += 1;
          document.getElementById("totalQuestions").innerHTML = totalQuestions;
          // Apply changes to number of questions gotten right
          document.getElementById("totalRight").innerHTML = totalRight;
          document.getElementById("percentage").innerHTML =
            Math.round((totalRight / totalQuestions) * 1000) / 10;
          $("#scoreValue").text(silver + " " + langSilver);
          //currentQuestionIndex++;
          // Disable receiving the same question twice in a row or too often

          loadQuestion();
        });

        // Handle text input submission
        $("#textInput").on("keypress", function (e) {
          if (e.which === 13) {
            // Enter key
            const userAnswer = $(this).val().trim();
            if (userAnswer === current.correct) {
              // Add the appropriate amount of silver
              silver += current.pointsAwarded;
              // Increment the number of questions gotten right
              totalRight += 1;
              // Leave a gap of at least 2 between the same exact question
              olderCqi = oldCqi;
              oldCqi = currentQuestionIndex;
              do {
                specCqi = Math.round(Math.random() * questions.length);
              } while (specCqi == oldCqi || specCqi == olderCqi);
              currentQuestionIndex = specCqi;
            } else {
              // Show the incorrect dialogue box
              $("#incorrect").show();
              $("#game").hide();
              // Hide the incorrect dialogue box after ~2/3 of a second
              setTimeout(function () {
                $("#incorrect").hide();
                $("#game").show();
              }, 666.6);
              // If the halve-penalty powerup is equipped from the shop, half the penalty from the silver amount
              silver -= halvePenalty
                ? Math.ceil(current.pointsDeducted / 2)
                : current.pointsDeducted;
              // Repeat the question if it was incorrectly answered
              currentQuestionIndex = currentQuestionIndex;
            }
            // Increment the total numbers of questions answered
            totalQuestions += 1;
            document.getElementById("totalQuestions").innerHTML =
              totalQuestions;
            // Apply changes to number of questions gotten right
            document.getElementById("totalRight").innerHTML = totalRight;
            document.getElementById("percentage").innerHTML =
              Math.round((totalRight / totalQuestions) * 1000) / 10;
            $("#scoreValue").text(silver + " " + langSilver);
            // Clear the input field
            $(this).val("");
            loadQuestion();
          }
        });
      }

      $("#importBtn").on("click", function () {
        const fileInput = document.getElementById("aryaFile");
        const file = fileInput.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function (e) {
            parseArya(e.target.result);
            ///alert("Arya imported successfully!");
          };
          reader.readAsText(file);
        } else {
          alert(noFileMessage);
        }
      });

      $("#playBtn").on("click", function () {
        $("#questions").show();
        document.getElementById("importBtn").click();
        setTimeout(function () {
          if (questions.length === 0) {
            //alert("Please import a .arya file first!");
            return;
          }
          $("#game").show();
          $("#home").hide();
          $("#textInput").hide();
          loadQuestion();
        }, 36);
      });

      $("#typeBtn").on("click", function () {
        document.getElementById("importBtn").click();
        setTimeout(function () {
          if (questions.length === 0) {
            //alert("Please import a .arya file first!");
            return;
          }
          $(".container").hide();
          $("#game").fadeIn();
          $("#answers").hide();
          loadQuestion();
        }, 36);
      });

      $("#resetBtn").on("click", function () {
        // Confirm if the user wants to reset
        var resetConf = confirm("Are you sure you would like to reset?");
        if (resetConf === true) {
          // Remove all questions
          questions = [];

          // Set question index to 0
          currentQuestionIndex = 0;

          // Deduct all silver
          silver = 0;

          // Reset number of right and wrong
          totalRight = 0;
          totalQuestions = 0;

          // Update score value
          $("#scoreValue").text(silver + " " + langSilver);

          // Update percentage and right and wrong
          document.getElementById("totalRight").innerHTML = 0;
          document.getElementById("totalQuestions").innerHTML = 0;
          document.getElementById("percentage").innerHTML = 0;

          // Hide the game and return to the home screen
          $("#game").hide();
          $("#home").fadeIn();
        }
      });
      $(document).ready(function () {
        if (
          window.matchMedia &&
          window.matchMedia("(prefers-color-scheme: dark)").matches
        ) {
          $("body").addClass("dark");
        }

        window
          .matchMedia("(prefers-color-scheme: dark)")
          .addEventListener("change", (event) => {
            if (event.matches) {
              $("body").addClass("dark");
            } else {
              $("body").removeClass("dark");
            }
          });
      });

      
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/DeclanChidlow/BritCSS/britcss.js"></script>
    <script src='lakshmi.js'></script>
  </body>
</html>
